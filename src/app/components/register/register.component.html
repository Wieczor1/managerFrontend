<div class="login-box">
  <h3>Add user</h3>
  <form (ngSubmit)="saveUser($event)" [formGroup]="form" *ngIf="form">
    <div class="user-box">
      <input type="text" class="form-control" name="firstName"
             formControlName="firstName">
      <label>First Name</label>
      <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
           class="alert alert-danger">
        <div *ngIf="firstName.errors.required">
          First name is required.
        </div>
      </div>
    </div>
    <div class="user-box">
      <input type="text" class="form-control" name="lastName"
             formControlName="lastName">
      <label>Last Name</label>
      <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
           class="alert alert-danger">
        <div *ngIf="lastName.errors.required">
          Last name is required.
        </div>
      </div>
    </div>
    <div class="user-box">

      <input type="text" class="form-control" name="email"
             formControlName="email">
      <label>E-mail</label>
      <div *ngIf="email.invalid && (email.dirty || email.touched)"
           class="alert alert-danger">
        <div *ngIf="email.errors.required">
          E-mail is required.
        </div>
        <div *ngIf="email.errors.email || email.errors.pattern">
          Invalid e-mail.
        </div>
      </div>
    </div>
    <div class="user-box">

      <input type="text" class="form-control" name="username"
             formControlName="username">
      <label>Username</label>
      <div *ngIf="username.invalid && (username.dirty || username.touched)"
           class="alert alert-danger">
        <div *ngIf="username.errors.required">
          Username is required.
        </div>
      </div>
      <div *ngIf="this.invalidUsername" class="alert alert-danger">
        Username exists.
      </div>
    </div>
    <div class="user-box">

      <input type="password" class="form-control" name="password"
             formControlName="password">
      <label>Password</label>
      <div *ngIf="password.invalid && (password.dirty || password.touched)"
           >
        <div *ngIf="password.errors?.strengthValidation && !password.errors?.required && !password.errors?.minlength" class="alert alert-danger">
          Password is too weak.
        </div>

        <div *ngIf="password.errors?.minlength && (password.dirty || password.touched)"  class="alert alert-danger">
          Password must have minimum 7 characters.
        </div>
        <div *ngIf="password.errors?.required && (password.dirty || password.touched)"  class="alert alert-danger">
          Password is required.
        </div>

      </div>
    </div>
    <password-strength-meter (strengthChange)="changeStrength($event)" [enableFeedback]="true" [minPasswordLength]="7" [password]="password.value"></password-strength-meter>
    <br><button class="btn btn-success" [disabled]="!form.valid || strength === 0" type="submit">Submit</button>

  </form>
</div>
